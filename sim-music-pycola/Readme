Manual generation of one universe end-to-end
Source code:
https://github.com/philbull/pycola3/blob/main/pycola3/ic.py

ssh cori 
salloc --nodes 1 --qos interactive --time 4:00:00 -C haswell

 env|grep  SHIFTER_RUNTIME  # is-in-shifter
 
a) the cosmological params for Music & PyCola are defined in
univ_base3.ics.conf

b) setup software
 export HDF5_USE_FILE_LOCKING=FALSE
 export ENGINE=" shifter --image=balewski/ubu20-music-pycola3:v1 "
 export MUSIC=/usr/share/music/build/MUSIC
 out=$SCRATCH/tmp2/out7
 uni=univ_base7
 mkdir $out
 

c) run Music
 cp $uni.ics.conf $out
 cd $out
 time $ENGINE $MUSIC $uni.ics.conf
 cd -


d) run PyCola  (used 16 CPUs, ~no RAM)
   it does 2 passes in sequence w/o & w/ evolution to z=0
   time $ENGINE ./pycola3_main.py  --dataPath $out --simConf $uni 
   
e) project DM vector filed to density, both evolutions
  ./projectNBody.py --dataName $uni  --dataPath $out

f) plot DM density cube
   ./plotCube.py --dataName  $uni  --dataPath $out --show abc 



